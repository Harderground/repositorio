import { Component, OnInit } from '@angular/core';
import { ProductosService } from '../../services/productos.service';
import { tick } from '@angular/core/testing';
import { Producto } from '../../clases/producto.class';
import { Mensaje } from '../../clases/mensaje.class';
declare var jquery: any;
declare var $: any;
@Component({
  selector: 'app-producto',
  templateUrl: './producto.component.html',
  styleUrls: ['./producto.component.css']
})
export class ProductoComponent implements OnInit {

  public items: any[] = [];
  public rolls: any[] = [];
  public tablas: any[] = [];
  public producto_agregar: Producto;
  public var1: any = "";
  public mensaje:Mensaje= new Mensaje();
  public msgSuccess:any;
  public msgError:any;
  public estadoBoton:any;
  public confirmacion:any;
  constructor(private _productosServices: ProductosService) {
    this.producto_agregar = new Producto("", "", "Categoria", "", "", "");
    this.producto_agregar.imagen="data:image/jpeg;base64,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"
    this.msgSuccess="";
    this.msgError="";
    this.estadoBoton=1;
    this.confirmacion="";
  }

  ngOnInit() {
    this.obtenerRolls();
    this.obtenerTablas();

  }
  obtenerRolls() {
    this._productosServices.obtenerRolls().subscribe(
      result => {
        console.log(result);
        this.rolls = result;
      },
      error => {
        console.log(error);

      }

    );
  }
  obtenerTablas() {
    this._productosServices.obtenerTablas().subscribe(
      result => {
        console.log(result);
        this.tablas = result;

      },
      error => {
        console.log(error);

      }

    );
  }

  insertarProducto() {
    this.estadoBoton = 2;
    console.log(this.producto_agregar);
    this._productosServices.insertarProducto(this.producto_agregar).subscribe(
      result => {
        console.log(result);
        if (result==true){
          this.msgSuccess= this.mensaje.Success();
          this.estadoBoton = 1;
          this.producto_agregar = new Producto("", "", "Categoria", "", "", "");
          this.producto_agregar.imagen="data:image/jpeg;base64,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"
          $("#BtnCancelarAgregar").click();
          this.obtenerRolls();
          this.obtenerTablas();
        }else{
          this.msgError=this.mensaje.Error_BackEnd();
          this.estadoBoton=1;
        }
        

      },
      error => {
        console.log(error);

      }
    );
  }
  setCategoria(categoria: any) {
    this.producto_agregar.categoria = categoria;
  }
  getFileBlob(file) {
    var reader = new FileReader();
    return new Promise(function (resolve, reject) {
      reader.onload = (function (theFile) {
        return function (e) {
          resolve(e.target.result);
        };
      })(file);
      reader.readAsDataURL(file);
    });
  }
  agregarImagen() {
    let fileInput: any = document.getElementById("img-upload");
    let files = fileInput.files[0];
    let imgPromise = this.getFileBlob(files);
    imgPromise.then(blob => {
      this.producto_agregar.imagen = blob.toString();
    }).catch(e => console.log(e));
  }
  cerrarMensaje(){
    this.msgError="";
    this.msgSuccess="";
  }

}
